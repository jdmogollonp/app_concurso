<h1 *ngIf="loading" class="text-center text-primary mt-3 mb-5"><i class="fas fa-spin fa-spinner"></i></h1>

<div id="scrollHere"></div>

<ng-container *ngIf="!loading">
  <div class="card w-50 mx-auto mb-4 p-3 pt-4 pb-4 shadow border border-info" *ngFor="let video of videos">
    <div class="row d-flex align-items-center">
      <div class="col-lg-6 text-center">
        <ng-container *ngIf="!video.selected">
          <video *ngIf="video.converted_video" [src]="video.converted_video" controls width="300px"></video>
          <h4 *ngIf="!video.converted_video">Video no disponible</h4>
        </ng-container>
        <ng-container *ngIf="video.selected">
          <video [src]="video.original_video" controls width="300px"></video>
        </ng-container>
        <ng-container *ngIf="adminInfo">
          <h6 class="text-center mt-1">Video <span *ngIf="!video.selected">convertido</span><span
              *ngIf="video.selected">original</span></h6>
          <button class="btn btn-info mt-2 btn-sm shadow-none" (click)="video.selected = !video.selected">Ver <span
              *ngIf="video.selected">convertido</span><span *ngIf="!video.selected">original</span></button>
        </ng-container>
      </div>
      <div class="col-lg-6">
        <p class="small">{{video.creation_date | date: 'yyyy-MM-dd hh:mm:ss aa'}}</p>
        <h5 class="mb-3">{{video.message}}</h5>
        <p>- {{video.name}} {{video.last_name}}</p>
        <p *ngIf="adminInfo"><i class="fas fa-envelope text-primary"></i>&nbsp;{{video.email}}</p>
        <p *ngIf="adminInfo"><strong>Estado: </strong><span *ngIf="video.status === 0">En proceso</span><span
            *ngIf="video.status === 1">Convertido</span></p>
      </div>
    </div>
  </div>
</ng-container>


<div *ngIf="!loading" class="card-footer pb-0 pt-3 d-flex align-items-center justify-content-center">
  <ul *ngIf="pager.pages && pager.pages.length" class="pagination">
    <li [ngClass]="{disabled:pager.currentPage === 1}" class="page-item first-item">
      <a [routerLink]="'/contests/' + url" [queryParams]="{ page: 1 }" class="page-link">Comiezo</a>
    </li>
    <li [ngClass]="{disabled:pager.currentPage === 1}" class="page-item previous-item">
      <a [routerLink]="'/contests/' + url" [queryParams]="{ page: pager.currentPage - 1 }"
        class="page-link">Anterior</a>
    </li>
    <li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}" class="page-item number-item">
      <a [routerLink]="'/contests/' + url" [queryParams]="{ page: page }" class="page-link">{{page}}</a>
    </li>
    <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}" class="page-item next-item">
      <a [routerLink]="'/contests/' + url" [queryParams]="{ page: pager.currentPage + 1 }"
        class="page-link">Siguiente</a>
    </li>
    <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}" class="page-item last-item">
      <a [routerLink]="'/contests/' + url" [queryParams]="{ page: pager.totalPages }" class="page-link">Ultimo</a>
    </li>
  </ul>
</div>
